"use strict";(globalThis.webpackChunksegment_push_plugin_demo=globalThis.webpackChunksegment_push_plugin_demo||[]).push([["nm_sensd_nm_rc-motion-_709a1"],{406:(Sn,ce,E)=>{var yn={name:"segment-push-plugin-demo",version:"1.17.0"};E.r(ce),E.d(ce,{CSSMotionList:()=>on,default:()=>un});var A=E(240),v=E(9677),M=E(3680),Y=E(7209),i=E(2880),be=E(7126),je=E(8174),Ke=E(4403),$e=E.n(Ke),w=E(3837);function ve(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function Qe(n,e){var t={animationend:ve("Animation","AnimationEnd"),transitionend:ve("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var We=Qe((0,w.Z)(),typeof window<"u"?window:{}),fe={};if((0,w.Z)()){var ze=document.createElement("div");fe=ze.style}var G={};function de(n){if(G[n])return G[n];var e=We[n];if(e)for(var t=Object.keys(e),r=t.length,a=0;a<r;a+=1){var u=t[a];if(Object.prototype.hasOwnProperty.call(e,u)&&u in fe)return G[n]=e[u],G[n]}return""}var le=de("animationend"),me=de("transitionend"),Ee=!!(le&&me),pe=le||"animationend",Se=me||"transitionend";function ye(n,e){if(!n)return null;if((0,Y.Z)(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}var $="none",q="appear",_="enter",ee="leave",he="none",k="prepare",U="start",b="active",ne="end";function te(n){var e=(0,i.useRef)(!1),t=(0,i.useState)(n),r=(0,M.Z)(t,2),a=r[0],u=r[1];function o(f){e.current||u(f)}return(0,i.useEffect)(function(){return function(){e.current=!0}},[]),[a,o]}var Be=(0,w.Z)()?i.useLayoutEffect:i.useEffect;const Ze=Be;var ge=E(9781);const Ge=function(){var n=i.useRef(null);function e(){ge.Z.cancel(n.current)}function t(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var u=(0,ge.Z)(function(){a<=1?r({isCanceled:function(){return u!==n.current}}):t(r,a-1)});n.current=u}return i.useEffect(function(){return function(){e()}},[]),[t,e]};var Ae=[k,U,b,ne],Te=!1,He=!0;function Ce(n){return n===b||n===ne}const Je=function(n,e){var t=i.useState(he),r=(0,M.Z)(t,2),a=r[0],u=r[1],o=Ge(),f=(0,M.Z)(o,2),h=f[0],s=f[1];function c(){u(k)}return Ze(function(){if(a!==he&&a!==ne){var d=Ae.indexOf(a),m=Ae[d+1],y=e(a);y===Te?u(m):h(function(R){function T(){R.isCanceled()||u(m)}y===!0?T():Promise.resolve(y).then(T)})}},[n,a]),i.useEffect(function(){return function(){s()}},[]),[c,a]},Xe=function(n){var e=(0,i.useRef)(),t=(0,i.useRef)(n);t.current=n;var r=i.useCallback(function(o){t.current(o)},[]);function a(o){o&&(o.removeEventListener(Se,r),o.removeEventListener(pe,r))}function u(o){e.current&&e.current!==o&&a(e.current),o&&o!==e.current&&(o.addEventListener(Se,r),o.addEventListener(pe,r),e.current=o)}return i.useEffect(function(){return function(){a(e.current)}},[]),[u,a]};function Ye(n,e,t,r){var a=r.motionEnter,u=a===void 0?!0:a,o=r.motionAppear,f=o===void 0?!0:o,h=r.motionLeave,s=h===void 0?!0:h,c=r.motionDeadline,d=r.motionLeaveImmediately,m=r.onAppearPrepare,y=r.onEnterPrepare,R=r.onLeavePrepare,T=r.onAppearStart,g=r.onEnterStart,D=r.onLeaveStart,O=r.onAppearActive,Q=r.onEnterActive,N=r.onLeaveActive,L=r.onAppearEnd,V=r.onEnterEnd,W=r.onLeaveEnd,x=r.onVisibleChanged,H=te(),z=(0,M.Z)(H,2),C=z[0],P=z[1],j=te($),F=(0,M.Z)(j,2),S=F[0],I=F[1],sn=te(null),Ne=(0,M.Z)(sn,2),cn=Ne[0],Ve=Ne[1],xe=(0,i.useRef)(!1),ue=(0,i.useRef)(null),Fe=(0,i.useRef)(!1),vn=(0,i.useRef)(null);function J(){var l=t();return l||vn.current}var X=(0,i.useRef)(!1);function Ie(l){var p=J();if(!(l&&!l.deadline&&l.target!==p)){var Z;S===q&&X.current?Z=L==null?void 0:L(p,l):S===_&&X.current?Z=V==null?void 0:V(p,l):S===ee&&X.current&&(Z=W==null?void 0:W(p,l)),Z!==!1&&!Fe.current&&(I($),Ve(null))}}var fn=Xe(Ie),dn=(0,M.Z)(fn,1),ln=dn[0],B=i.useMemo(function(){var l,p,Z;switch(S){case"appear":return l={},(0,A.Z)(l,k,m),(0,A.Z)(l,U,T),(0,A.Z)(l,b,O),l;case"enter":return p={},(0,A.Z)(p,k,y),(0,A.Z)(p,U,g),(0,A.Z)(p,b,Q),p;case"leave":return Z={},(0,A.Z)(Z,k,R),(0,A.Z)(Z,U,D),(0,A.Z)(Z,b,N),Z;default:return{}}},[S]),mn=Je(S,function(l){if(l===k){var p=B[k];return p?p(J()):Te}if(K in B){var Z;Ve(((Z=B[K])===null||Z===void 0?void 0:Z.call(B,J(),null))||null)}return K===b&&(ln(J()),c>0&&(clearTimeout(ue.current),ue.current=setTimeout(function(){Ie({deadline:!0})},c))),He}),Ue=(0,M.Z)(mn,2),En=Ue[0],K=Ue[1],pn=Ce(K);X.current=pn,Ze(function(){P(e);var l=xe.current;if(xe.current=!0,!!n){var p;!l&&e&&f&&(p=q),l&&e&&u&&(p=_),(l&&!e&&s||!l&&d&&!e&&s)&&(p=ee),p&&(I(p),En())}},[e]),(0,i.useEffect)(function(){(S===q&&!f||S===_&&!u||S===ee&&!s)&&I($)},[f,u,s]),(0,i.useEffect)(function(){return function(){clearTimeout(ue.current),Fe.current=!0}},[]),(0,i.useEffect)(function(){C!==void 0&&S===$&&(x==null||x(C))},[C,S]);var se=cn;return B[k]&&K===U&&(se=(0,v.Z)({transition:"none"},se)),[S,K,se,C!=null?C:e]}var Re=E(7061),Le=E(9900),Me=E(4768),ke=E(5822),we=function(n){(0,Me.Z)(t,n);var e=(0,ke.Z)(t);function t(){return(0,Re.Z)(this,t),e.apply(this,arguments)}return(0,Le.Z)(t,[{key:"render",value:function(){return this.props.children}}]),t}(i.Component);const qe=we;function _e(n){var e=n;(0,Y.Z)(n)==="object"&&(e=n.transitionSupport);function t(a){return!!(a.motionName&&e)}var r=i.forwardRef(function(a,u){var o=a.visible,f=o===void 0?!0:o,h=a.removeOnLeave,s=h===void 0?!0:h,c=a.forceRender,d=a.children,m=a.motionName,y=a.leavedClassName,R=a.eventProps,T=t(a),g=(0,i.useRef)(),D=(0,i.useRef)();function O(){try{return(0,be.Z)(g.current||D.current)}catch{return null}}var Q=Ye(T,f,O,a),N=(0,M.Z)(Q,4),L=N[0],V=N[1],W=N[2],x=N[3],H=i.useRef(x);x&&(H.current=!0);var z=(0,i.useRef)(u);z.current=u;var C=i.useCallback(function(I){g.current=I,(0,je.mH)(z.current,I)},[]),P,j=(0,v.Z)((0,v.Z)({},R),{},{visible:f});if(!d)P=null;else if(L===$||!t(a))x?P=d((0,v.Z)({},j),C):!s&&H.current?P=d((0,v.Z)((0,v.Z)({},j),{},{className:y}),C):c?P=d((0,v.Z)((0,v.Z)({},j),{},{style:{display:"none"}}),C):P=null;else{var F,S;V===k?S="prepare":Ce(V)?S="active":V===U&&(S="start"),P=d((0,v.Z)((0,v.Z)({},j),{},{className:$e()(ye(m,L),(F={},(0,A.Z)(F,ye(m,"".concat(L,"-").concat(S)),S),(0,A.Z)(F,m,typeof m=="string"),F)),style:W}),C)}return i.createElement(qe,{ref:D},P)});return r.displayName="CSSMotion",r}const Pe=_e(Ee);var en=E(7692),Oe=E(1421),re="add",ae="keep",oe="remove",De="removed";function nn(n){var e;return n&&(0,Y.Z)(n)==="object"&&"key"in n?e=n:e={key:n},(0,v.Z)((0,v.Z)({},e),{},{key:String(e.key)})}function ie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(nn)}function tn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,a=e.length,u=ie(n),o=ie(e);u.forEach(function(s){for(var c=!1,d=r;d<a;d+=1){var m=o[d];if(m.key===s.key){r<d&&(t=t.concat(o.slice(r,d).map(function(y){return(0,v.Z)((0,v.Z)({},y),{},{status:re})})),r=d),t.push((0,v.Z)((0,v.Z)({},m),{},{status:ae})),r+=1,c=!0;break}}c||t.push((0,v.Z)((0,v.Z)({},s),{},{status:oe}))}),r<a&&(t=t.concat(o.slice(r).map(function(s){return(0,v.Z)((0,v.Z)({},s),{},{status:re})})));var f={};t.forEach(function(s){var c=s.key;f[c]=(f[c]||0)+1});var h=Object.keys(f).filter(function(s){return f[s]>1});return h.forEach(function(s){t=t.filter(function(c){var d=c.key,m=c.status;return d!==s||m!==oe}),t.forEach(function(c){c.key===s&&(c.status=ae)})}),t}var rn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function an(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pe,t=function(r){(0,Me.Z)(u,r);var a=(0,ke.Z)(u);function u(){var o;return(0,Re.Z)(this,u),o=a.apply(this,arguments),o.state={keyEntities:[]},o.removeKey=function(f){o.setState(function(h){var s=h.keyEntities;return{keyEntities:s.map(function(c){return c.key!==f?c:(0,v.Z)((0,v.Z)({},c),{},{status:De})})}})},o}return(0,Le.Z)(u,[{key:"render",value:function(){var f=this,h=this.state.keyEntities,s=this.props,c=s.component,d=s.children,m=s.onVisibleChanged,y=(0,Oe.Z)(s,["component","children","onVisibleChanged"]),R=c||i.Fragment,T={};return rn.forEach(function(g){T[g]=y[g],delete y[g]}),delete y.keys,i.createElement(R,y,h.map(function(g){var D=g.status,O=(0,Oe.Z)(g,["status"]),Q=D===re||D===ae;return i.createElement(e,(0,en.Z)({},T,{key:O.key,visible:Q,eventProps:O,onVisibleChanged:function(L){m==null||m(L,{key:O.key}),L||f.removeKey(O.key)}}),d)}))}}],[{key:"getDerivedStateFromProps",value:function(f,h){var s=f.keys,c=h.keyEntities,d=ie(s),m=tn(c,d);return{keyEntities:m.filter(function(y){var R=c.find(function(T){var g=T.key;return y.key===g});return!(R&&R.status===De&&y.status===oe)})}}}]),u}(i.Component);return t.defaultProps={component:"div"},t}const on=an(Ee),un=Pe}}]);
