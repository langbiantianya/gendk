"use strict";(globalThis.webpackChunksegment_push_plugin_demo=globalThis.webpackChunksegment_push_plugin_demo||[]).push([["nm_sensd_nm_rc-tooltip_nm_rc-trigger-_0eb51"],{159:(Qe,pe,s)=>{var Ge={name:"segment-push-plugin-demo",version:"1.17.0"};s.d(pe,{Z:()=>we});var P=s(3680),L=s(7209),Se=s(2880),T=s.n(Se),xe=s(8174),Ee=s(5724),de=s(2183),r=s(7271),De=s(4301),Ne=s.n(De),I=s(1691),ne=s.n(I),Ae=s(8037);function me(h,m){return h===m?!0:!h||!m?!1:"pageX"in m&&"pageY"in m?h.pageX===m.pageX&&h.pageY===m.pageY:"clientX"in m&&"clientY"in m?h.clientX===m.clientX&&h.clientY===m.clientY:!1}function G(h,m){h!==document.activeElement&&(0,Ae.Z)(m,h)&&typeof h.focus=="function"&&h.focus()}function ve(h,m){var x=null,D=null;function w(H){var J=(0,P.Z)(H,1),B=J[0].target;if(!!document.documentElement.contains(B)){var W=B.getBoundingClientRect(),K=W.width,O=W.height,A=Math.floor(K),E=Math.floor(O);(x!==A||D!==E)&&Promise.resolve().then(function(){m({width:A,height:E})}),x=A,D=E}}var N=new(ne())(w);return h&&N.observe(h),function(){N.disconnect()}}const Re=function(h,m){var x=T().useRef(!1),D=T().useRef(null);function w(){window.clearTimeout(D.current)}function N(H){if(w(),!x.current||H===!0){if(h()===!1)return;x.current=!0,D.current=window.setTimeout(function(){x.current=!1},m)}else D.current=window.setTimeout(function(){x.current=!1,N()},m)}return[N,function(){x.current=!1,w()}]};function $(h){return typeof h!="function"?null:h()}function he(h){return(0,L.Z)(h)!=="object"||!h?null:h}var be=function(m,x){var D=m.children,w=m.disabled,N=m.target,H=m.align,J=m.onAlign,B=m.monitorWindowResize,W=m.monitorBufferTime,K=W===void 0?0:W,O=T().useRef({}),A=T().useRef(),E=T().Children.only(D),Y=T().useRef({});Y.current.disabled=w,Y.current.target=N,Y.current.align=H,Y.current.onAlign=J;var Ce=Re(function(){var y=Y.current,oe=y.disabled,ie=y.target,re=y.align,se=y.onAlign;if(!oe&&ie){var q=A.current,t,f=$(ie),l=he(ie);O.current.element=f,O.current.point=l,O.current.align=re;var p=document,d=p.activeElement;return f&&(0,Ee.Z)(f)?t=(0,de.alignElement)(q,f,re):l&&(t=(0,de.alignPoint)(q,l,re)),G(d,q),se&&t&&se(q,t),!0}return!1},K),Te=(0,P.Z)(Ce,2),z=Te[0],te=Te[1],j=T().useRef({cancel:function(){}}),X=T().useRef({cancel:function(){}});T().useEffect(function(){var y=$(N),oe=he(N);A.current!==X.current.element&&(X.current.cancel(),X.current.element=A.current,X.current.cancel=ve(A.current,z)),(O.current.element!==y||!me(O.current.point,oe)||!Ne()(O.current.align,H))&&(z(),j.current.element!==y&&(j.current.cancel(),j.current.element=y,j.current.cancel=ve(y,z)))}),T().useEffect(function(){w?te():z()},[w]);var k=T().useRef(null);return T().useEffect(function(){B?k.current||(k.current=(0,r.Z)(window,"resize",z)):k.current&&(k.current.remove(),k.current=null)},[B]),T().useEffect(function(){return function(){j.current.cancel(),X.current.cancel(),k.current&&k.current.remove(),te()}},[]),T().useImperativeHandle(x,function(){return{forceAlign:function(){return z(!0)}}}),T().isValidElement(E)&&(E=T().cloneElement(E,{ref:(0,xe.sQ)(E.ref,A)})),E},ge=T().forwardRef(be);ge.displayName="Align";const we=ge},3322:(Qe,pe,s)=>{var Ge={name:"segment-push-plugin-demo",version:"1.17.0"};s.r(pe),s.d(pe,{default:()=>q,generateTrigger:()=>se});var P=s(9677),L=s(7692),Se=s(7061),T=s(9900),xe=s(4771),Ee=s(4768),de=s(5822),r=s(2880),De=s(4660),Ne=s.n(De),I=s(9781),ne=s(8037),Ae=s(7126),me=s(8174),G=s(7271),ve=s(4682),Re=s(4403),$=s.n(Re);function he(t,f,l){return l?t[0]===f[0]:t[0]===f[0]&&t[1]===f[1]}function be(t,f,l){var p=t[f]||{};return(0,P.Z)((0,P.Z)({},p),l)}function ge(t,f,l,p){for(var d=l.points,a=Object.keys(t),e=0;e<a.length;e+=1){var i=a[e];if(he(t[i].points,d,p))return"".concat(f,"-placement-").concat(i)}return""}var Z=s(3680),we=s(1421),h=s(6467),m=s(6295),x=s.n(m);function D(t){var f=t.prefixCls,l=t.motion,p=t.animation,d=t.transitionName;return l||(p?{motionName:"".concat(f,"-").concat(p)}:d?{motionName:d}:null)}function w(t){var f=t.prefixCls,l=t.visible,p=t.zIndex,d=t.mask,a=t.maskMotion,e=t.maskAnimation,i=t.maskTransitionName;if(!d)return null;var n={};return(a||i||e)&&(n=(0,P.Z)({motionAppear:!0},D({motion:a,prefixCls:f,transitionName:i,animation:e}))),r.createElement(x(),(0,L.Z)({},n,{visible:l,removeOnLeave:!0}),function(o){var u=o.className;return r.createElement("div",{style:{zIndex:p},className:$()("".concat(f,"-mask"),u)})})}var N=s(159),H=s(7190),J=s(4611),B=s(3755),W=s(5034),K=["measure","alignPre","align",null,"motion"];const O=function(t,f){var l=(0,W.Z)(null),p=(0,Z.Z)(l,2),d=p[0],a=p[1],e=(0,r.useRef)();function i(u){a(u,!0)}function n(){I.Z.cancel(e.current)}function o(u){n(),e.current=(0,I.Z)(function(){i(function(v){switch(d){case"align":return"motion";case"motion":return"stable";default:}return v}),u==null||u()})}return(0,r.useEffect)(function(){i("measure")},[t]),(0,r.useEffect)(function(){switch(d){case"measure":f();break;default:}d&&(e.current=(0,I.Z)((0,B.Z)((0,J.Z)().mark(function u(){var v,C;return(0,J.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:v=K.indexOf(d),C=K[v+1],C&&v!==-1&&i(C);case 3:case"end":return c.stop()}},u)}))))},[d]),(0,r.useEffect)(function(){return function(){n()}},[]),[d,o]},A=function(t){var f=r.useState({width:0,height:0}),l=(0,Z.Z)(f,2),p=l[0],d=l[1];function a(i){d({width:i.offsetWidth,height:i.offsetHeight})}var e=r.useMemo(function(){var i={};if(t){var n=p.width,o=p.height;t.indexOf("height")!==-1&&o?i.height=o:t.indexOf("minHeight")!==-1&&o&&(i.minHeight=o),t.indexOf("width")!==-1&&n?i.width=n:t.indexOf("minWidth")!==-1&&n&&(i.minWidth=n)}return i},[t,p]);return[e,a]};var E=r.forwardRef(function(t,f){var l=t.visible,p=t.prefixCls,d=t.className,a=t.style,e=t.children,i=t.zIndex,n=t.stretch,o=t.destroyPopupOnHide,u=t.forceRender,v=t.align,C=t.point,g=t.getRootDomNode,c=t.getClassNameFromAlign,S=t.onAlign,R=t.onMouseEnter,U=t.onMouseLeave,V=t.onMouseDown,ae=t.onTouchStart,ue=t.onClick,Me=(0,r.useRef)(),_=(0,r.useRef)(),Oe=(0,r.useState)(),Pe=(0,Z.Z)(Oe,2),ye=Pe[0],ke=Pe[1],Ze=A(n),le=(0,Z.Z)(Ze,2),He=le[0],Ve=le[1];function Le(){n&&Ve(g())}var Q=O(l,Le),Fe=(0,Z.Z)(Q,2),b=Fe[0],Ie=Fe[1],Je=(0,r.useState)(0),$e=(0,Z.Z)(Je,2),Be=$e[0],We=$e[1],ze=(0,r.useRef)();(0,H.Z)(function(){b==="alignPre"&&We(0)},[b]);function Ke(){return C||g}function Ye(){var M;(M=Me.current)===null||M===void 0||M.forceAlign()}function qe(M,F){var ee=c(F);ye!==ee&&ke(ee),We(function(fe){return fe+1}),b==="align"&&(S==null||S(M,F))}(0,H.Z)(function(){b==="align"&&(Be<2?Ye():Ie(function(){var M;(M=ze.current)===null||M===void 0||M.call(ze)}))},[Be]);var ce=(0,P.Z)({},D(t));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(M){var F=ce[M];ce[M]=function(ee,fe){return Ie(),F==null?void 0:F(ee,fe)}});function je(){return new Promise(function(M){ze.current=M})}r.useEffect(function(){!ce.motionName&&b==="motion"&&Ie()},[ce.motionName,b]),r.useImperativeHandle(f,function(){return{forceAlign:Ye,getElement:function(){return _.current}}});var _e=(0,P.Z)((0,P.Z)({},He),{},{zIndex:i,opacity:b==="motion"||b==="stable"||!l?void 0:0,pointerEvents:!l&&b!=="stable"?"none":void 0},a),Xe=!0;(v==null?void 0:v.points)&&(b==="align"||b==="stable")&&(Xe=!1);var Ue=e;return r.Children.count(e)>1&&(Ue=r.createElement("div",{className:"".concat(p,"-content")},e)),r.createElement(x(),(0,L.Z)({visible:l,ref:_,leavedClassName:"".concat(p,"-hidden")},ce,{onAppearPrepare:je,onEnterPrepare:je,removeOnLeave:o,forceRender:u}),function(M,F){var ee=M.className,fe=M.style,en=$()(p,d,ye,ee);return r.createElement(N.Z,{target:Ke(),key:"popup",ref:Me,monitorWindowResize:!0,disabled:Xe,align:v,onAlign:qe},r.createElement("div",{ref:F,className:en,onMouseEnter:R,onMouseLeave:U,onMouseDownCapture:V,onTouchStartCapture:ae,onClick:ue,style:(0,P.Z)((0,P.Z)({},fe),_e)},Ue))})});E.displayName="PopupInner";const Y=E;var Ce=r.forwardRef(function(t,f){var l=t.prefixCls,p=t.visible,d=t.zIndex,a=t.children,e=t.mobile;e=e===void 0?{}:e;var i=e.popupClassName,n=e.popupStyle,o=e.popupMotion,u=o===void 0?{}:o,v=e.popupRender,C=t.onClick,g=r.useRef();r.useImperativeHandle(f,function(){return{forceAlign:function(){},getElement:function(){return g.current}}});var c=(0,P.Z)({zIndex:d},n),S=a;return r.Children.count(a)>1&&(S=r.createElement("div",{className:"".concat(l,"-content")},a)),v&&(S=v(S)),r.createElement(x(),(0,L.Z)({visible:p,ref:g,removeOnLeave:!0},u),function(R,U){var V=R.className,ae=R.style,ue=$()(l,i,V);return r.createElement("div",{ref:U,className:ue,onClick:C,style:(0,P.Z)((0,P.Z)({},ae),c)},S)})});Ce.displayName="MobilePopupInner";const Te=Ce;var z=["visible","mobile"],te=r.forwardRef(function(t,f){var l=t.visible,p=t.mobile,d=(0,we.Z)(t,z),a=(0,r.useState)(l),e=(0,Z.Z)(a,2),i=e[0],n=e[1],o=(0,r.useState)(!1),u=(0,Z.Z)(o,2),v=u[0],C=u[1],g=(0,P.Z)((0,P.Z)({},d),{},{visible:i});(0,r.useEffect)(function(){n(l),l&&p&&C((0,h.Z)())},[l,p]);var c=v?r.createElement(Te,(0,L.Z)({},g,{mobile:p,ref:f})):r.createElement(Y,(0,L.Z)({},g,{ref:f}));return r.createElement("div",null,r.createElement(w,g),c)});te.displayName="Popup";const j=te;var X=r.createContext(null);const k=X;function y(){}function oe(){return""}function ie(t){return t?t.ownerDocument:window.document}var re=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function se(t){var f=function(l){(0,Ee.Z)(d,l);var p=(0,de.Z)(d);function d(a){var e;(0,Se.Z)(this,d),e=p.call(this,a),e.popupRef=r.createRef(),e.triggerRef=r.createRef(),e.portalContainer=void 0,e.attachId=void 0,e.clickOutsideHandler=void 0,e.touchOutsideHandler=void 0,e.contextMenuOutsideHandler1=void 0,e.contextMenuOutsideHandler2=void 0,e.mouseDownTimeout=void 0,e.focusTime=void 0,e.preClickTime=void 0,e.preTouchTime=void 0,e.delayTimer=void 0,e.hasPopupMouseDown=void 0,e.onMouseEnter=function(n){var o=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",n),e.delaySetPopupVisible(!0,o,o?null:n)},e.onMouseMove=function(n){e.fireEvents("onMouseMove",n),e.setPoint(n)},e.onMouseLeave=function(n){e.fireEvents("onMouseLeave",n),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},e.onPopupMouseEnter=function(){e.clearDelayTimer()},e.onPopupMouseLeave=function(n){var o;n.relatedTarget&&!n.relatedTarget.setTimeout&&(0,ne.Z)((o=e.popupRef.current)===null||o===void 0?void 0:o.getElement(),n.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},e.onFocus=function(n){e.fireEvents("onFocus",n),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},e.onMouseDown=function(n){e.fireEvents("onMouseDown",n),e.preClickTime=Date.now()},e.onTouchStart=function(n){e.fireEvents("onTouchStart",n),e.preTouchTime=Date.now()},e.onBlur=function(n){e.fireEvents("onBlur",n),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},e.onContextMenu=function(n){n.preventDefault(),e.fireEvents("onContextMenu",n),e.setPopupVisible(!0,n)},e.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},e.onClick=function(n){if(e.fireEvents("onClick",n),e.focusTime){var o;if(e.preClickTime&&e.preTouchTime?o=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?o=e.preClickTime:e.preTouchTime&&(o=e.preTouchTime),Math.abs(o-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,e.isClickToShow()&&(e.isClickToHide()||e.isBlurToHide())&&n&&n.preventDefault&&n.preventDefault();var u=!e.state.popupVisible;(e.isClickToHide()&&!u||u&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,n)},e.onPopupMouseDown=function(){if(e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=window.setTimeout(function(){e.hasPopupMouseDown=!1},0),e.context){var n;(n=e.context).onPopupMouseDown.apply(n,arguments)}},e.onDocumentClick=function(n){if(!(e.props.mask&&!e.props.maskClosable)){var o=n.target,u=e.getRootDomNode(),v=e.getPopupDomNode();(!(0,ne.Z)(u,o)||e.isContextMenuOnly())&&!(0,ne.Z)(v,o)&&!e.hasPopupMouseDown&&e.close()}},e.getRootDomNode=function(){var n=e.props.getTriggerDOMNode;if(n)return n(e.triggerRef.current);try{var o=(0,Ae.Z)(e.triggerRef.current);if(o)return o}catch{}return Ne().findDOMNode((0,xe.Z)(e))},e.getPopupClassNameFromAlign=function(n){var o=[],u=e.props,v=u.popupPlacement,C=u.builtinPlacements,g=u.prefixCls,c=u.alignPoint,S=u.getPopupClassNameFromAlign;return v&&C&&o.push(ge(C,g,n,c)),S&&o.push(S(n)),o.join(" ")},e.getComponent=function(){var n=e.props,o=n.prefixCls,u=n.destroyPopupOnHide,v=n.popupClassName,C=n.onPopupAlign,g=n.popupMotion,c=n.popupAnimation,S=n.popupTransitionName,R=n.popupStyle,U=n.mask,V=n.maskAnimation,ae=n.maskTransitionName,ue=n.maskMotion,Me=n.zIndex,_=n.popup,Oe=n.stretch,Pe=n.alignPoint,ye=n.mobile,ke=n.forceRender,Ze=n.onPopupClick,le=e.state,He=le.popupVisible,Ve=le.point,Le=e.getPopupAlign(),Q={};return e.isMouseEnterToShow()&&(Q.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(Q.onMouseLeave=e.onPopupMouseLeave),Q.onMouseDown=e.onPopupMouseDown,Q.onTouchStart=e.onPopupMouseDown,r.createElement(j,(0,L.Z)({prefixCls:o,destroyPopupOnHide:u,visible:He,point:Pe&&Ve,className:v,align:Le,onAlign:C,animation:c,getClassNameFromAlign:e.getPopupClassNameFromAlign},Q,{stretch:Oe,getRootDomNode:e.getRootDomNode,style:R,mask:U,zIndex:Me,transitionName:S,maskAnimation:V,maskTransitionName:ae,maskMotion:ue,ref:e.popupRef,motion:g,mobile:ye,forceRender:ke,onClick:Ze}),typeof _=="function"?_():_)},e.attachParent=function(n){I.Z.cancel(e.attachId);var o=e.props,u=o.getPopupContainer,v=o.getDocument,C=e.getRootDomNode(),g;u?(C||u.length===0)&&(g=u(C)):g=v(e.getRootDomNode()).body,g?g.appendChild(n):e.attachId=(0,I.Z)(function(){e.attachParent(n)})},e.getContainer=function(){if(!e.portalContainer){var n=e.props.getDocument,o=n(e.getRootDomNode()).createElement("div");o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",e.portalContainer=o}return e.attachParent(e.portalContainer),e.portalContainer},e.setPoint=function(n){var o=e.props.alignPoint;!o||!n||e.setState({point:{pageX:n.pageX,pageY:n.pageY}})},e.handlePortalUpdate=function(){e.state.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},e.triggerContextValue={onPopupMouseDown:e.onPopupMouseDown};var i;return"popupVisible"in a?i=!!a.popupVisible:i=!!a.defaultPopupVisible,e.state={prevPopupVisible:i,popupVisible:i},re.forEach(function(n){e["fire".concat(n)]=function(o){e.fireEvents(n,o)}}),e}return(0,T.Z)(d,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this.props,i=this.state;if(i.popupVisible){var n;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(n=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=(0,G.Z)(n,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(n=n||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=(0,G.Z)(n,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(n=n||e.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=(0,G.Z)(n,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=(0,G.Z)(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),I.Z.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return((e=this.popupRef.current)===null||e===void 0?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,i=e.popupPlacement,n=e.popupAlign,o=e.builtinPlacements;return i&&o?be(o,i,n):n}},{key:"setPopupVisible",value:function(e,i){var n=this.props.alignPoint,o=this.state.popupVisible;this.clearDelayTimer(),o!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:o}),this.props.onPopupVisibleChange(e)),n&&i&&e&&this.setPoint(i)}},{key:"delaySetPopupVisible",value:function(e,i,n){var o=this,u=i*1e3;if(this.clearDelayTimer(),u){var v=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout(function(){o.setPopupVisible(e,v),o.clearDelayTimer()},u)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var i=this.props.children.props,n=this.props;return i[e]&&n[e]?this["fire".concat(e)]:i[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,i=e.action,n=e.showAction;return i.indexOf("click")!==-1||n.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return e==="contextMenu"||e.length===1&&e[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var e=this.props,i=e.action,n=e.showAction;return i.indexOf("contextMenu")!==-1||n.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var e=this.props,i=e.action,n=e.hideAction;return i.indexOf("click")!==-1||n.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var e=this.props,i=e.action,n=e.showAction;return i.indexOf("hover")!==-1||n.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,i=e.action,n=e.hideAction;return i.indexOf("hover")!==-1||n.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var e=this.props,i=e.action,n=e.showAction;return i.indexOf("focus")!==-1||n.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var e=this.props,i=e.action,n=e.hideAction;return i.indexOf("focus")!==-1||n.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var e;(e=this.popupRef.current)===null||e===void 0||e.forceAlign()}}},{key:"fireEvents",value:function(e,i){var n=this.props.children.props[e];n&&n(i);var o=this.props[e];o&&o(i)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,i=this.props,n=i.children,o=i.forceRender,u=i.alignPoint,v=i.className,C=i.autoDestroy,g=r.Children.only(n),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,u&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var S=$()(g&&g.props&&g.props.className,v);S&&(c.className=S);var R=(0,P.Z)({},c);(0,me.Yr)(g)&&(R.ref=(0,me.sQ)(this.triggerRef,g.ref));var U=r.cloneElement(g,R),V;return(e||this.popupRef.current||o)&&(V=r.createElement(t,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&C&&(V=null),r.createElement(k.Provider,{value:this.triggerContextValue},U,V)}}],[{key:"getDerivedStateFromProps",value:function(e,i){var n=e.popupVisible,o={};return n!==void 0&&i.popupVisible!==n&&(o.popupVisible=n,o.prevPopupVisible=i.popupVisible),o}}]),d}(r.Component);return f.contextType=k,f.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:oe,getDocument:ie,onPopupVisibleChange:y,afterPopupVisibleChange:y,onPopupAlign:y,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},f}const q=se(ve.Z)}}]);
