"use strict";(globalThis.webpackChunksegment_push_plugin_demo=globalThis.webpackChunksegment_push_plugin_demo||[]).push([["nm_rc-field-form-_4feb0","nm_rc-field-form-_4feb1"],{5260:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.r(Z),O.d(Z,{Field:()=>Ie,FieldContext:()=>ge,FormProvider:()=>rt,List:()=>et,ListContext:()=>qe,default:()=>Kt,useForm:()=>We,useWatch:()=>it});var v=O(2880);function R(){return R=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},R.apply(this,arguments)}function M(n,i){if(n==null)return{};var e={},r=Object.keys(n),t,a;for(a=0;a<r.length;a++)t=r[a],!(i.indexOf(t)>=0)&&(e[t]=n[t]);return e}function $(n,i){if(n==null)return{};var e=M(n,i),r,t;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(t=0;t<a.length;t++)r=a[t],!(i.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(e[r]=n[r]))}return e}function S(n){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},S(n)}function K(n,i){if(S(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,i||"default");if(S(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}function L(n){var i=K(n,"string");return S(i)==="symbol"?i:String(i)}function z(n,i,e){return i=L(i),i in n?Object.defineProperty(n,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[i]=e,n}function re(n,i){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);i&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,r)}return e}function V(n){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?re(Object(e),!0).forEach(function(r){z(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):re(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function ie(n,i){(i==null||i>n.length)&&(i=n.length);for(var e=0,r=new Array(i);e<i;e++)r[e]=n[e];return r}function me(n){if(Array.isArray(n))return ie(n)}function ke(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ve(n,i){if(!!n){if(typeof n=="string")return ie(n,i);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ie(n,i)}}function pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(n){return me(n)||ke(n)||ve(n)||pe()}function _e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function Oe(n,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,L(r.key),r)}}function we(n,i,e){return i&&Oe(n.prototype,i),e&&Oe(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function q(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ye(n,i){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},ye(n,i)}function y(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&ye(n,i)}function le(n){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(n)}function ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ut(n,i){if(i&&(S(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(n)}function st(n){var i=ot();return function(){var r=le(n),t;if(i){var a=le(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return ut(this,t)}}var lt=O(1403),ce=O(9174),he="RC_FORM_INTERNAL_HOOKS",H=function(){(0,ce.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},ct=v.createContext({getFieldValue:H,getFieldsValue:H,getFieldError:H,getFieldWarning:H,getFieldsError:H,isFieldsTouched:H,isFieldTouched:H,isFieldValidating:H,isFieldsValidating:H,resetFields:H,setFields:H,setFieldValue:H,setFieldsValue:H,validateFields:H,submit:H,getInternalHooks:function(){return H(),{dispatch:H,initEntityValue:H,registerField:H,useSubscribe:H,setInitialValues:H,destroyForm:H,setCallbacks:H,registerWatch:H,getFields:H,setValidateMessages:H,setPreserve:H,getInitialValue:H}}});const ge=ct;function Ae(n){return n==null?[]:Array.isArray(n)?n:[n]}function se(){"use strict";se=function(){return n};var n={},i=Object.prototype,e=i.hasOwnProperty,r=Object.defineProperty||function(h,f,d){h[f]=d.value},t=typeof Symbol=="function"?Symbol:{},a=t.iterator||"@@iterator",s=t.asyncIterator||"@@asyncIterator",c=t.toStringTag||"@@toStringTag";function o(h,f,d){return Object.defineProperty(h,f,{value:d,enumerable:!0,configurable:!0,writable:!0}),h[f]}try{o({},"")}catch{o=function(d,F,C){return d[F]=C}}function u(h,f,d,F){var C=f&&f.prototype instanceof m?f:m,E=Object.create(C.prototype),B=new U(F||[]);return r(E,"_invoke",{value:D(h,d,B)}),E}function l(h,f,d){try{return{type:"normal",arg:h.call(f,d)}}catch(F){return{type:"throw",arg:F}}}n.wrap=u;var g={};function m(){}function k(){}function _(){}var w={};o(w,a,function(){return this});var p=Object.getPrototypeOf,P=p&&p(p(G([])));P&&P!==i&&e.call(P,a)&&(w=P);var b=_.prototype=m.prototype=Object.create(w);function I(h){["next","throw","return"].forEach(function(f){o(h,f,function(d){return this._invoke(f,d)})})}function j(h,f){function d(C,E,B,X){var Q=l(h[C],h,E);if(Q.type!=="throw"){var ue=Q.arg,J=ue.value;return J&&S(J)=="object"&&e.call(J,"__await")?f.resolve(J.__await).then(function(ee){d("next",ee,B,X)},function(ee){d("throw",ee,B,X)}):f.resolve(J).then(function(ee){ue.value=ee,B(ue)},function(ee){return d("throw",ee,B,X)})}X(Q.arg)}var F;r(this,"_invoke",{value:function(E,B){function X(){return new f(function(Q,ue){d(E,B,Q,ue)})}return F=F?F.then(X,X):X()}})}function D(h,f,d){var F="suspendedStart";return function(C,E){if(F==="executing")throw new Error("Generator is already running");if(F==="completed"){if(C==="throw")throw E;return oe()}for(d.method=C,d.arg=E;;){var B=d.delegate;if(B){var X=T(B,d);if(X){if(X===g)continue;return X}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(F==="suspendedStart")throw F="completed",d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);F="executing";var Q=l(h,f,d);if(Q.type==="normal"){if(F=d.done?"completed":"suspendedYield",Q.arg===g)continue;return{value:Q.arg,done:d.done}}Q.type==="throw"&&(F="completed",d.method="throw",d.arg=Q.arg)}}}function T(h,f){var d=f.method,F=h.iterator[d];if(F===void 0)return f.delegate=null,d==="throw"&&h.iterator.return&&(f.method="return",f.arg=void 0,T(h,f),f.method==="throw")||d!=="return"&&(f.method="throw",f.arg=new TypeError("The iterator does not provide a '"+d+"' method")),g;var C=l(F,h.iterator,f.arg);if(C.type==="throw")return f.method="throw",f.arg=C.arg,f.delegate=null,g;var E=C.arg;return E?E.done?(f[h.resultName]=E.value,f.next=h.nextLoc,f.method!=="return"&&(f.method="next",f.arg=void 0),f.delegate=null,g):E:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,g)}function x(h){var f={tryLoc:h[0]};1 in h&&(f.catchLoc=h[1]),2 in h&&(f.finallyLoc=h[2],f.afterLoc=h[3]),this.tryEntries.push(f)}function W(h){var f=h.completion||{};f.type="normal",delete f.arg,h.completion=f}function U(h){this.tryEntries=[{tryLoc:"root"}],h.forEach(x,this),this.reset(!0)}function G(h){if(h){var f=h[a];if(f)return f.call(h);if(typeof h.next=="function")return h;if(!isNaN(h.length)){var d=-1,F=function C(){for(;++d<h.length;)if(e.call(h,d))return C.value=h[d],C.done=!1,C;return C.value=void 0,C.done=!0,C};return F.next=F}}return{next:oe}}function oe(){return{value:void 0,done:!0}}return k.prototype=_,r(b,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:k,configurable:!0}),k.displayName=o(_,c,"GeneratorFunction"),n.isGeneratorFunction=function(h){var f=typeof h=="function"&&h.constructor;return!!f&&(f===k||(f.displayName||f.name)==="GeneratorFunction")},n.mark=function(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,_):(h.__proto__=_,o(h,c,"GeneratorFunction")),h.prototype=Object.create(b),h},n.awrap=function(h){return{__await:h}},I(j.prototype),o(j.prototype,s,function(){return this}),n.AsyncIterator=j,n.async=function(h,f,d,F,C){C===void 0&&(C=Promise);var E=new j(u(h,f,d,F),C);return n.isGeneratorFunction(f)?E:E.next().then(function(B){return B.done?B.value:E.next()})},I(b),o(b,c,"Generator"),o(b,a,function(){return this}),o(b,"toString",function(){return"[object Generator]"}),n.keys=function(h){var f=Object(h),d=[];for(var F in f)d.push(F);return d.reverse(),function C(){for(;d.length;){var E=d.pop();if(E in f)return C.value=E,C.done=!1,C}return C.done=!0,C}},n.values=G,U.prototype={constructor:U,reset:function(f){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(W),!f)for(var d in this)d.charAt(0)==="t"&&e.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=void 0)},stop:function(){this.done=!0;var f=this.tryEntries[0].completion;if(f.type==="throw")throw f.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var d=this;function F(ue,J){return B.type="throw",B.arg=f,d.next=ue,J&&(d.method="next",d.arg=void 0),!!J}for(var C=this.tryEntries.length-1;C>=0;--C){var E=this.tryEntries[C],B=E.completion;if(E.tryLoc==="root")return F("end");if(E.tryLoc<=this.prev){var X=e.call(E,"catchLoc"),Q=e.call(E,"finallyLoc");if(X&&Q){if(this.prev<E.catchLoc)return F(E.catchLoc,!0);if(this.prev<E.finallyLoc)return F(E.finallyLoc)}else if(X){if(this.prev<E.catchLoc)return F(E.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<E.finallyLoc)return F(E.finallyLoc)}}}},abrupt:function(f,d){for(var F=this.tryEntries.length-1;F>=0;--F){var C=this.tryEntries[F];if(C.tryLoc<=this.prev&&e.call(C,"finallyLoc")&&this.prev<C.finallyLoc){var E=C;break}}E&&(f==="break"||f==="continue")&&E.tryLoc<=d&&d<=E.finallyLoc&&(E=null);var B=E?E.completion:{};return B.type=f,B.arg=d,E?(this.method="next",this.next=E.finallyLoc,g):this.complete(B)},complete:function(f,d){if(f.type==="throw")throw f.arg;return f.type==="break"||f.type==="continue"?this.next=f.arg:f.type==="return"?(this.rval=this.arg=f.arg,this.method="return",this.next="end"):f.type==="normal"&&d&&(this.next=d),g},finish:function(f){for(var d=this.tryEntries.length-1;d>=0;--d){var F=this.tryEntries[d];if(F.finallyLoc===f)return this.complete(F.completion,F.afterLoc),W(F),g}},catch:function(f){for(var d=this.tryEntries.length-1;d>=0;--d){var F=this.tryEntries[d];if(F.tryLoc===f){var C=F.completion;if(C.type==="throw"){var E=C.arg;W(F)}return E}}throw new Error("illegal catch attempt")},delegateYield:function(f,d,F){return this.delegate={iterator:G(f),resultName:d,nextLoc:F},this.method==="next"&&(this.arg=void 0),g}},n}function De(n,i,e,r,t,a,s){try{var c=n[a](s),o=c.value}catch(u){e(u);return}c.done?i(o):Promise.resolve(o).then(r,t)}function Ve(n){return function(){var i=this,e=arguments;return new Promise(function(r,t){var a=n.apply(i,e);function s(o){De(a,r,t,s,c,"next",o)}function c(o){De(a,r,t,s,c,"throw",o)}s(void 0)})}}var ft=O(6943),dt=O.n(ft),ne="'${name}' is not a valid ${type}",xe={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ne,method:ne,array:ne,object:ne,number:ne,date:ne,boolean:ne,integer:ne,float:ne,regexp:ne,email:ne,url:ne,hex:ne},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Ze(n,i){for(var e=n,r=0;r<i.length;r+=1){if(e==null)return;e=e[i[r]]}return e}var vt=O(9677),ht=O(9961),gt=O(9189);function He(n,i,e,r){if(!i.length)return e;var t=(0,gt.Z)(i),a=t[0],s=t.slice(1),c;return!n&&typeof a=="number"?c=[]:Array.isArray(n)?c=(0,ht.Z)(n):c=(0,vt.Z)({},n),r&&e===void 0&&s.length===1?delete c[a][s[0]]:c[a]=He(c[a],s,e,r),c}function mt(n,i,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return i.length&&r&&e===void 0&&!Ze(n,i.slice(0,-1))?n:He(n,i,e,r)}function Re(n){return Array.isArray(n)?yt(n):S(n)==="object"&&n!==null?pt(n):n}function pt(n){if(Object.getPrototypeOf(n)===Object.prototype){var i={};for(var e in n)i[e]=Re(n[e]);return i}return n}function yt(n){return n.map(function(i){return Re(i)})}const Ke=Re;function Y(n){return Ae(n)}function fe(n,i){var e=Ze(n,i);return e}function de(n,i,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,t=mt(n,i,e,r);return t}function Ge(n,i){var e={};return i.forEach(function(r){var t=fe(n,r);e=de(e,r,t)}),e}function Pe(n,i){return n&&n.some(function(e){return Ye(e,i)})}function Be(n){return S(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function ze(n,i){var e=Array.isArray(n)?N(n):V({},n);return i&&Object.keys(i).forEach(function(r){var t=e[r],a=i[r],s=Be(t)&&Be(a);e[r]=s?ze(t,a||{}):Ke(a)}),e}function Se(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return e.reduce(function(t,a){return ze(t,a)},n)}function Ye(n,i){return!n||!i||n.length!==i.length?!1:n.every(function(e,r){return i[r]===e})}function Ft(n,i){if(n===i)return!0;if(!n&&i||n&&!i||!n||!i||S(n)!=="object"||S(i)!=="object")return!1;var e=Object.keys(n),r=Object.keys(i),t=new Set([].concat(e,r));return N(t).every(function(a){var s=n[a],c=i[a];return typeof s=="function"&&typeof c=="function"?!0:s===c})}function bt(n){var i=arguments.length<=1?void 0:arguments[1];return i&&i.target&&S(i.target)==="object"&&n in i.target?i.target[n]:i}function Je(n,i,e){var r=n.length;if(i<0||i>=r||e<0||e>=r)return n;var t=n[i],a=i-e;return a>0?[].concat(N(n.slice(0,e)),[t],N(n.slice(e,i)),N(n.slice(i+1,r))):a<0?[].concat(N(n.slice(0,i)),N(n.slice(i+1,e+1)),[t],N(n.slice(e+1,r))):n}var _t=dt();function wt(n,i){return n.replace(/\$\{\w+\}/g,function(e){var r=e.slice(2,-1);return i[r]})}var Xe="CODE_LOGIC_ERROR";function $e(n,i,e,r,t){return je.apply(this,arguments)}function je(){return je=Ve(se().mark(function n(i,e,r,t,a){var s,c,o,u,l,g,m,k,_;return se().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return s=V({},r),delete s.ruleIndex,s.validator&&(c=s.validator,s.validator=function(){try{return c.apply(void 0,arguments)}catch(P){return console.error(P),Promise.reject(Xe)}}),o=null,s&&s.type==="array"&&s.defaultField&&(o=s.defaultField,delete s.defaultField),u=new _t(z({},i,[s])),l=Se({},xe,t.validateMessages),u.messages(l),g=[],p.prev=9,p.next=12,Promise.resolve(u.validate(z({},i,e),V({},t)));case 12:p.next=17;break;case 14:p.prev=14,p.t0=p.catch(9),p.t0.errors&&(g=p.t0.errors.map(function(P,b){var I=P.message,j=I===Xe?l.default:I;return v.isValidElement(j)?v.cloneElement(j,{key:"error_".concat(b)}):j}));case 17:if(!(!g.length&&o)){p.next=22;break}return p.next=20,Promise.all(e.map(function(P,b){return $e("".concat(i,".").concat(b),P,o,t,a)}));case 20:return m=p.sent,p.abrupt("return",m.reduce(function(P,b){return[].concat(N(P),N(b))},[]));case 22:return k=V(V({},r),{},{name:i,enum:(r.enum||[]).join(", ")},a),_=g.map(function(P){return typeof P=="string"?wt(P,k):P}),p.abrupt("return",_);case 25:case"end":return p.stop()}},n,null,[[9,14]])})),je.apply(this,arguments)}function Pt(n,i,e,r,t,a){var s=n.join("."),c=e.map(function(l,g){var m=l.validator,k=V(V({},l),{},{ruleIndex:g});return m&&(k.validator=function(_,w,p){var P=!1,b=function(){for(var D=arguments.length,T=new Array(D),x=0;x<D;x++)T[x]=arguments[x];Promise.resolve().then(function(){(0,ce.ZP)(!P,"Your validator function has already return a promise. `callback` will be ignored."),P||p.apply(void 0,T)})},I=m(_,w,b);P=I&&typeof I.then=="function"&&typeof I.catch=="function",(0,ce.ZP)(P,"`callback` is deprecated. Please return a promise instead."),P&&I.then(function(){p()}).catch(function(j){p(j||" ")})}),k}).sort(function(l,g){var m=l.warningOnly,k=l.ruleIndex,_=g.warningOnly,w=g.ruleIndex;return!!m==!!_?k-w:m?1:-1}),o;if(t===!0)o=new Promise(function(){var l=Ve(se().mark(function g(m,k){var _,w,p;return se().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:_=0;case 1:if(!(_<c.length)){b.next=12;break}return w=c[_],b.next=5,$e(s,i,w,r,a);case 5:if(p=b.sent,!p.length){b.next=9;break}return k([{errors:p,rule:w}]),b.abrupt("return");case 9:_+=1,b.next=1;break;case 12:m([]);case 13:case"end":return b.stop()}},g)}));return function(g,m){return l.apply(this,arguments)}}());else{var u=c.map(function(l){return $e(s,i,l,r,a).then(function(g){return{errors:g,rule:l}})});o=(t?Ot(u):Et(u)).then(function(l){return Promise.reject(l)})}return o.catch(function(l){return l}),o}function Et(n){return Te.apply(this,arguments)}function Te(){return Te=Ve(se().mark(function n(i){return se().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(i).then(function(t){var a,s=(a=[]).concat.apply(a,N(t));return s}));case 1:case"end":return r.stop()}},n)})),Te.apply(this,arguments)}function Ot(n){return Me.apply(this,arguments)}function Me(){return Me=Ve(se().mark(function n(i){var e;return se().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,t.abrupt("return",new Promise(function(a){i.forEach(function(s){s.then(function(c){c.errors.length&&a([c]),e+=1,e===i.length&&a([])})})}));case 2:case"end":return t.stop()}},n)})),Me.apply(this,arguments)}var Vt=["name"],ae=[];function Qe(n,i,e,r,t,a){return typeof n=="function"?n(i,e,"source"in a?{source:a.source}:{}):r!==t}var Ne=function(n){y(e,n);var i=st(e);function e(r){var t;if(_e(this,e),t=i.call(this,r),t.state={resetCount:0},t.cancelRegisterFunc=null,t.mounted=!1,t.touched=!1,t.dirty=!1,t.validatePromise=null,t.prevValidating=void 0,t.errors=ae,t.warnings=ae,t.cancelRegister=function(){var o=t.props,u=o.preserve,l=o.isListField,g=o.name;t.cancelRegisterFunc&&t.cancelRegisterFunc(l,u,Y(g)),t.cancelRegisterFunc=null},t.getNamePath=function(){var o=t.props,u=o.name,l=o.fieldContext,g=l.prefixName,m=g===void 0?[]:g;return u!==void 0?[].concat(N(m),N(u)):[]},t.getRules=function(){var o=t.props,u=o.rules,l=u===void 0?[]:u,g=o.fieldContext;return l.map(function(m){return typeof m=="function"?m(g):m})},t.refresh=function(){!t.mounted||t.setState(function(o){var u=o.resetCount;return{resetCount:u+1}})},t.triggerMetaEvent=function(o){var u=t.props.onMetaChange;u==null||u(V(V({},t.getMeta()),{},{destroy:o}))},t.onStoreChange=function(o,u,l){var g=t.props,m=g.shouldUpdate,k=g.dependencies,_=k===void 0?[]:k,w=g.onReset,p=l.store,P=t.getNamePath(),b=t.getValue(o),I=t.getValue(p),j=u&&Pe(u,P);switch(l.type==="valueUpdate"&&l.source==="external"&&b!==I&&(t.touched=!0,t.dirty=!0,t.validatePromise=null,t.errors=ae,t.warnings=ae,t.triggerMetaEvent()),l.type){case"reset":if(!u||j){t.touched=!1,t.dirty=!1,t.validatePromise=null,t.errors=ae,t.warnings=ae,t.triggerMetaEvent(),w==null||w(),t.refresh();return}break;case"remove":{if(m){t.reRender();return}break}case"setField":{if(j){var D=l.data;"touched"in D&&(t.touched=D.touched),"validating"in D&&!("originRCField"in D)&&(t.validatePromise=D.validating?Promise.resolve([]):null),"errors"in D&&(t.errors=D.errors||ae),"warnings"in D&&(t.warnings=D.warnings||ae),t.dirty=!0,t.triggerMetaEvent(),t.reRender();return}if(m&&!P.length&&Qe(m,o,p,b,I,l)){t.reRender();return}break}case"dependenciesUpdate":{var T=_.map(Y);if(T.some(function(x){return Pe(l.relatedFields,x)})){t.reRender();return}break}default:if(j||(!_.length||P.length||m)&&Qe(m,o,p,b,I,l)){t.reRender();return}break}m===!0&&t.reRender()},t.validateRules=function(o){var u=t.getNamePath(),l=t.getValue(),g=Promise.resolve().then(function(){if(!t.mounted)return[];var m=t.props,k=m.validateFirst,_=k===void 0?!1:k,w=m.messageVariables,p=o||{},P=p.triggerName,b=t.getRules();P&&(b=b.filter(function(j){return j}).filter(function(j){var D=j.validateTrigger;if(!D)return!0;var T=Ae(D);return T.includes(P)}));var I=Pt(u,l,b,o,_,w);return I.catch(function(j){return j}).then(function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ae;if(t.validatePromise===g){var D;t.validatePromise=null;var T=[],x=[];(D=j.forEach)===null||D===void 0||D.call(j,function(W){var U=W.rule.warningOnly,G=W.errors,oe=G===void 0?ae:G;U?x.push.apply(x,N(oe)):T.push.apply(T,N(oe))}),t.errors=T,t.warnings=x,t.triggerMetaEvent(),t.reRender()}}),I});return t.validatePromise=g,t.dirty=!0,t.errors=ae,t.warnings=ae,t.triggerMetaEvent(),t.reRender(),g},t.isFieldValidating=function(){return!!t.validatePromise},t.isFieldTouched=function(){return t.touched},t.isFieldDirty=function(){if(t.dirty||t.props.initialValue!==void 0)return!0;var o=t.props.fieldContext,u=o.getInternalHooks(he),l=u.getInitialValue;return l(t.getNamePath())!==void 0},t.getErrors=function(){return t.errors},t.getWarnings=function(){return t.warnings},t.isListField=function(){return t.props.isListField},t.isList=function(){return t.props.isList},t.isPreserve=function(){return t.props.preserve},t.getMeta=function(){t.prevValidating=t.isFieldValidating();var o={touched:t.isFieldTouched(),validating:t.prevValidating,errors:t.errors,warnings:t.warnings,name:t.getNamePath()};return o},t.getOnlyChild=function(o){if(typeof o=="function"){var u=t.getMeta();return V(V({},t.getOnlyChild(o(t.getControlled(),u,t.props.fieldContext))),{},{isFunction:!0})}var l=(0,lt.Z)(o);return l.length!==1||!v.isValidElement(l[0])?{child:l,isFunction:!1}:{child:l[0],isFunction:!1}},t.getValue=function(o){var u=t.props.fieldContext.getFieldsValue,l=t.getNamePath();return fe(o||u(!0),l)},t.getControlled=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=t.props,l=u.trigger,g=u.validateTrigger,m=u.getValueFromEvent,k=u.normalize,_=u.valuePropName,w=u.getValueProps,p=u.fieldContext,P=g!==void 0?g:p.validateTrigger,b=t.getNamePath(),I=p.getInternalHooks,j=p.getFieldsValue,D=I(he),T=D.dispatch,x=t.getValue(),W=w||function(h){return z({},_,h)},U=o[l],G=V(V({},o),W(x));G[l]=function(){t.touched=!0,t.dirty=!0,t.triggerMetaEvent();for(var h,f=arguments.length,d=new Array(f),F=0;F<f;F++)d[F]=arguments[F];m?h=m.apply(void 0,d):h=bt.apply(void 0,[_].concat(d)),k&&(h=k(h,x,j(!0))),T({type:"updateValue",namePath:b,value:h}),U&&U.apply(void 0,d)};var oe=Ae(P||[]);return oe.forEach(function(h){var f=G[h];G[h]=function(){f&&f.apply(void 0,arguments);var d=t.props.rules;d&&d.length&&T({type:"validateField",namePath:b,triggerName:h})}}),G},r.fieldContext){var a=r.fieldContext.getInternalHooks,s=a(he),c=s.initEntityValue;c(q(t))}return t}return we(e,[{key:"componentDidMount",value:function(){var t=this.props,a=t.shouldUpdate,s=t.fieldContext;if(this.mounted=!0,s){var c=s.getInternalHooks,o=c(he),u=o.registerField;this.cancelRegisterFunc=u(this)}a===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){!this.mounted||this.forceUpdate()}},{key:"render",value:function(){var t=this.state.resetCount,a=this.props.children,s=this.getOnlyChild(a),c=s.child,o=s.isFunction,u;return o?u=c:v.isValidElement(c)?u=v.cloneElement(c,this.getControlled(c.props)):((0,ce.ZP)(!c,"`children` of Field is not validate ReactElement."),u=c),v.createElement(v.Fragment,{key:t},u)}}]),e}(v.Component);Ne.contextType=ge,Ne.defaultProps={trigger:"onChange",valuePropName:"value"};function St(n){var i=n.name,e=$(n,Vt),r=v.useContext(ge),t=i!==void 0?Y(i):void 0,a="keep";return e.isListField||(a="_".concat((t||[]).join("_"))),v.createElement(Ne,R({key:a,name:t},e,{fieldContext:r}))}const Ie=St;var Ct=v.createContext(null);const qe=Ct;var kt=function(i){var e=i.name,r=i.initialValue,t=i.children,a=i.rules,s=i.validateTrigger,c=v.useContext(ge),o=v.useRef({keys:[],id:0}),u=o.current,l=v.useMemo(function(){var _=Y(c.prefixName)||[];return[].concat(N(_),N(Y(e)))},[c.prefixName,e]),g=v.useMemo(function(){return V(V({},c),{},{prefixName:l})},[c,l]),m=v.useMemo(function(){return{getKey:function(w){var p=l.length,P=w[p];return[u.keys[P],w.slice(p+1)]}}},[l]);if(typeof t!="function")return(0,ce.ZP)(!1,"Form.List only accepts function as children."),null;var k=function(w,p,P){var b=P.source;return b==="internal"?!1:w!==p};return v.createElement(qe.Provider,{value:m},v.createElement(ge.Provider,{value:g},v.createElement(Ie,{name:[],shouldUpdate:k,rules:a,validateTrigger:s,initialValue:r,isList:!0},function(_,w){var p=_.value,P=p===void 0?[]:p,b=_.onChange,I=c.getFieldValue,j=function(){var W=I(l||[]);return W||[]},D={add:function(W,U){var G=j();U>=0&&U<=G.length?(u.keys=[].concat(N(u.keys.slice(0,U)),[u.id],N(u.keys.slice(U))),b([].concat(N(G.slice(0,U)),[W],N(G.slice(U))))):(u.keys=[].concat(N(u.keys),[u.id]),b([].concat(N(G),[W]))),u.id+=1},remove:function(W){var U=j(),G=new Set(Array.isArray(W)?W:[W]);G.size<=0||(u.keys=u.keys.filter(function(oe,h){return!G.has(h)}),b(U.filter(function(oe,h){return!G.has(h)})))},move:function(W,U){if(W!==U){var G=j();W<0||W>=G.length||U<0||U>=G.length||(u.keys=Je(u.keys,W,U),b(Je(G,W,U)))}}},T=P||[];return Array.isArray(T)||(T=[]),t(T.map(function(x,W){var U=u.keys[W];return U===void 0&&(u.keys[W]=u.id,U=u.keys[W],u.id+=1),{name:W,key:U,isListField:!0}}),D,w)})))};const et=kt;function At(n){if(Array.isArray(n))return n}function Rt(n,i){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,t,a,s,c=[],o=!0,u=!1;try{if(a=(e=e.call(n)).next,i===0){if(Object(e)!==e)return;o=!1}else for(;!(o=(r=a.call(e)).done)&&(c.push(r.value),c.length!==i);o=!0);}catch(l){u=!0,t=l}finally{try{if(!o&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw t}}return c}}function $t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ee(n,i){return At(n)||Rt(n,i)||ve(n,i)||$t()}function jt(n){var i=!1,e=n.length,r=[];return n.length?new Promise(function(t,a){n.forEach(function(s,c){s.catch(function(o){return i=!0,o}).then(function(o){e-=1,r[c]=o,!(e>0)&&(i&&a(r),t(r))})})}):Promise.resolve([])}var tt="__@field_split__";function Le(n){return n.map(function(i){return"".concat(S(i),":").concat(i)}).join(tt)}var Tt=function(){function n(){_e(this,n),this.kvs=new Map}return we(n,[{key:"set",value:function(e,r){this.kvs.set(Le(e),r)}},{key:"get",value:function(e){return this.kvs.get(Le(e))}},{key:"update",value:function(e,r){var t=this.get(e),a=r(t);a?this.set(e,a):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Le(e))}},{key:"map",value:function(e){return N(this.kvs.entries()).map(function(r){var t=Ee(r,2),a=t[0],s=t[1],c=a.split(tt);return e({key:c.map(function(o){var u=o.match(/^([^:]*):(.*)$/),l=Ee(u,3),g=l[1],m=l[2];return g==="number"?Number(m):m}),value:s})})}},{key:"toJSON",value:function(){var e={};return this.map(function(r){var t=r.key,a=r.value;return e[t.join(".")]=a,null}),e}}]),n}();const Fe=Tt;var Mt=["name","errors"],Nt=we(function n(i){var e=this;_e(this,n),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:e.getFieldValue,getFieldsValue:e.getFieldsValue,getFieldError:e.getFieldError,getFieldWarning:e.getFieldWarning,getFieldsError:e.getFieldsError,isFieldsTouched:e.isFieldsTouched,isFieldTouched:e.isFieldTouched,isFieldValidating:e.isFieldValidating,isFieldsValidating:e.isFieldsValidating,resetFields:e.resetFields,setFields:e.setFields,setFieldValue:e.setFieldValue,setFieldsValue:e.setFieldsValue,validateFields:e.validateFields,submit:e.submit,_init:!0,getInternalHooks:e.getInternalHooks}},this.getInternalHooks=function(r){return r===he?(e.formHooked=!0,{dispatch:e.dispatch,initEntityValue:e.initEntityValue,registerField:e.registerField,useSubscribe:e.useSubscribe,setInitialValues:e.setInitialValues,destroyForm:e.destroyForm,setCallbacks:e.setCallbacks,setValidateMessages:e.setValidateMessages,getFields:e.getFields,setPreserve:e.setPreserve,getInitialValue:e.getInitialValue,registerWatch:e.registerWatch}):((0,ce.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(r){e.subscribable=r},this.prevWithoutPreserves=null,this.setInitialValues=function(r,t){if(e.initialValues=r||{},t){var a,s=Se({},r,e.store);(a=e.prevWithoutPreserves)===null||a===void 0||a.map(function(c){var o=c.key;s=de(s,o,fe(r,o))}),e.prevWithoutPreserves=null,e.updateStore(s)}},this.destroyForm=function(){var r=new Fe;e.getFieldEntities(!0).forEach(function(t){e.isMergedPreserve(t.isPreserve())||r.set(t.getNamePath(),!0)}),e.prevWithoutPreserves=r},this.getInitialValue=function(r){var t=fe(e.initialValues,r);return r.length?Ke(t):t},this.setCallbacks=function(r){e.callbacks=r},this.setValidateMessages=function(r){e.validateMessages=r},this.setPreserve=function(r){e.preserve=r},this.watchList=[],this.registerWatch=function(r){return e.watchList.push(r),function(){e.watchList=e.watchList.filter(function(t){return t!==r})}},this.notifyWatch=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(e.watchList.length){var t=e.getFieldsValue();e.watchList.forEach(function(a){a(t,r)})}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(r){e.store=r},this.getFieldEntities=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?e.fieldEntities.filter(function(t){return t.getNamePath().length}):e.fieldEntities},this.getFieldsMap=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=new Fe;return e.getFieldEntities(r).forEach(function(a){var s=a.getNamePath();t.set(s,a)}),t},this.getFieldEntitiesForNamePathList=function(r){if(!r)return e.getFieldEntities(!0);var t=e.getFieldsMap(!0);return r.map(function(a){var s=Y(a);return t.get(s)||{INVALIDATE_NAME_PATH:Y(a)}})},this.getFieldsValue=function(r,t){if(e.warningUnhooked(),r===!0&&!t)return e.store;var a=e.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),s=[];return a.forEach(function(c){var o,u="INVALIDATE_NAME_PATH"in c?c.INVALIDATE_NAME_PATH:c.getNamePath();if(!(!r&&((o=c.isListField)===null||o===void 0?void 0:o.call(c))))if(!t)s.push(u);else{var l="getMeta"in c?c.getMeta():null;t(l)&&s.push(u)}}),Ge(e.store,s.map(Y))},this.getFieldValue=function(r){e.warningUnhooked();var t=Y(r);return fe(e.store,t)},this.getFieldsError=function(r){e.warningUnhooked();var t=e.getFieldEntitiesForNamePathList(r);return t.map(function(a,s){return a&&!("INVALIDATE_NAME_PATH"in a)?{name:a.getNamePath(),errors:a.getErrors(),warnings:a.getWarnings()}:{name:Y(r[s]),errors:[],warnings:[]}})},this.getFieldError=function(r){e.warningUnhooked();var t=Y(r),a=e.getFieldsError([t])[0];return a.errors},this.getFieldWarning=function(r){e.warningUnhooked();var t=Y(r),a=e.getFieldsError([t])[0];return a.warnings},this.isFieldsTouched=function(){e.warningUnhooked();for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];var s=t[0],c=t[1],o,u=!1;t.length===0?o=null:t.length===1?Array.isArray(s)?(o=s.map(Y),u=!1):(o=null,u=s):(o=s.map(Y),u=c);var l=e.getFieldEntities(!0),g=function(p){return p.isFieldTouched()};if(!o)return u?l.every(g):l.some(g);var m=new Fe;o.forEach(function(w){m.set(w,[])}),l.forEach(function(w){var p=w.getNamePath();o.forEach(function(P){P.every(function(b,I){return p[I]===b})&&m.update(P,function(b){return[].concat(N(b),[w])})})});var k=function(p){return p.some(g)},_=m.map(function(w){var p=w.value;return p});return u?_.every(k):_.some(k)},this.isFieldTouched=function(r){return e.warningUnhooked(),e.isFieldsTouched([r])},this.isFieldsValidating=function(r){e.warningUnhooked();var t=e.getFieldEntities();if(!r)return t.some(function(s){return s.isFieldValidating()});var a=r.map(Y);return t.some(function(s){var c=s.getNamePath();return Pe(a,c)&&s.isFieldValidating()})},this.isFieldValidating=function(r){return e.warningUnhooked(),e.isFieldsValidating([r])},this.resetWithFieldInitialValue=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=new Fe,a=e.getFieldEntities(!0);a.forEach(function(o){var u=o.props.initialValue,l=o.getNamePath();if(u!==void 0){var g=t.get(l)||new Set;g.add({entity:o,value:u}),t.set(l,g)}});var s=function(u){u.forEach(function(l){var g=l.props.initialValue;if(g!==void 0){var m=l.getNamePath(),k=e.getInitialValue(m);if(k!==void 0)(0,ce.ZP)(!1,"Form already set 'initialValues' with path '".concat(m.join("."),"'. Field can not overwrite it."));else{var _=t.get(m);if(_&&_.size>1)(0,ce.ZP)(!1,"Multiple Field with path '".concat(m.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(_){var w=e.getFieldValue(m);(!r.skipExist||w===void 0)&&e.updateStore(de(e.store,m,N(_)[0].value))}}}})},c;r.entities?c=r.entities:r.namePathList?(c=[],r.namePathList.forEach(function(o){var u=t.get(o);if(u){var l;(l=c).push.apply(l,N(N(u).map(function(g){return g.entity})))}})):c=a,s(c)},this.resetFields=function(r){e.warningUnhooked();var t=e.store;if(!r){e.updateStore(Se({},e.initialValues)),e.resetWithFieldInitialValue(),e.notifyObservers(t,null,{type:"reset"}),e.notifyWatch();return}var a=r.map(Y);a.forEach(function(s){var c=e.getInitialValue(s);e.updateStore(de(e.store,s,c))}),e.resetWithFieldInitialValue({namePathList:a}),e.notifyObservers(t,a,{type:"reset"}),e.notifyWatch(a)},this.setFields=function(r){e.warningUnhooked();var t=e.store,a=[];r.forEach(function(s){var c=s.name,o=s.errors,u=$(s,Mt),l=Y(c);a.push(l),"value"in u&&e.updateStore(de(e.store,l,u.value)),e.notifyObservers(t,[l],{type:"setField",data:s})}),e.notifyWatch(a)},this.getFields=function(){var r=e.getFieldEntities(!0),t=r.map(function(a){var s=a.getNamePath(),c=a.getMeta(),o=V(V({},c),{},{name:s,value:e.getFieldValue(s)});return Object.defineProperty(o,"originRCField",{value:!0}),o});return t},this.initEntityValue=function(r){var t=r.props.initialValue;if(t!==void 0){var a=r.getNamePath(),s=fe(e.store,a);s===void 0&&e.updateStore(de(e.store,a,t))}},this.isMergedPreserve=function(r){var t=r!==void 0?r:e.preserve;return t!=null?t:!0},this.registerField=function(r){e.fieldEntities.push(r);var t=r.getNamePath();if(e.notifyWatch([t]),r.props.initialValue!==void 0){var a=e.store;e.resetWithFieldInitialValue({entities:[r],skipExist:!0}),e.notifyObservers(a,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,c){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(e.fieldEntities=e.fieldEntities.filter(function(g){return g!==r}),!e.isMergedPreserve(c)&&(!s||o.length>1)){var u=s?void 0:e.getInitialValue(t);if(t.length&&e.getFieldValue(t)!==u&&e.fieldEntities.every(function(g){return!Ye(g.getNamePath(),t)})){var l=e.store;e.updateStore(de(l,t,u,!0)),e.notifyObservers(l,[t],{type:"remove"}),e.triggerDependenciesUpdate(l,t)}}e.notifyWatch([t])}},this.dispatch=function(r){switch(r.type){case"updateValue":{var t=r.namePath,a=r.value;e.updateValue(t,a);break}case"validateField":{var s=r.namePath,c=r.triggerName;e.validateFields([s],{triggerName:c});break}default:}},this.notifyObservers=function(r,t,a){if(e.subscribable){var s=V(V({},a),{},{store:e.getFieldsValue(!0)});e.getFieldEntities().forEach(function(c){var o=c.onStoreChange;o(r,t,s)})}else e.forceRootUpdate()},this.triggerDependenciesUpdate=function(r,t){var a=e.getDependencyChildrenFields(t);return a.length&&e.validateFields(a),e.notifyObservers(r,a,{type:"dependenciesUpdate",relatedFields:[t].concat(N(a))}),a},this.updateValue=function(r,t){var a=Y(r),s=e.store;e.updateStore(de(e.store,a,t)),e.notifyObservers(s,[a],{type:"valueUpdate",source:"internal"}),e.notifyWatch([a]);var c=e.triggerDependenciesUpdate(s,a),o=e.callbacks.onValuesChange;if(o){var u=Ge(e.store,[a]);o(u,e.getFieldsValue())}e.triggerOnFieldsChange([a].concat(N(c)))},this.setFieldsValue=function(r){e.warningUnhooked();var t=e.store;if(r){var a=Se(e.store,r);e.updateStore(a)}e.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),e.notifyWatch()},this.setFieldValue=function(r,t){e.setFields([{name:r,value:t}])},this.getDependencyChildrenFields=function(r){var t=new Set,a=[],s=new Fe;e.getFieldEntities().forEach(function(o){var u=o.props.dependencies;(u||[]).forEach(function(l){var g=Y(l);s.update(g,function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return m.add(o),m})})});var c=function o(u){var l=s.get(u)||new Set;l.forEach(function(g){if(!t.has(g)){t.add(g);var m=g.getNamePath();g.isFieldDirty()&&m.length&&(a.push(m),o(m))}})};return c(r),a},this.triggerOnFieldsChange=function(r,t){var a=e.callbacks.onFieldsChange;if(a){var s=e.getFields();if(t){var c=new Fe;t.forEach(function(u){var l=u.name,g=u.errors;c.set(l,g)}),s.forEach(function(u){u.errors=c.get(u.name)||u.errors})}var o=s.filter(function(u){var l=u.name;return Pe(r,l)});a(o,s)}},this.validateFields=function(r,t){e.warningUnhooked();var a=!!r,s=a?r.map(Y):[],c=[];e.getFieldEntities(!0).forEach(function(l){if(a||s.push(l.getNamePath()),(t==null?void 0:t.recursive)&&a){var g=l.getNamePath();g.every(function(_,w){return r[w]===_||r[w]===void 0})&&s.push(g)}if(!(!l.props.rules||!l.props.rules.length)){var m=l.getNamePath();if(!a||Pe(s,m)){var k=l.validateRules(V({validateMessages:V(V({},xe),e.validateMessages)},t));c.push(k.then(function(){return{name:m,errors:[],warnings:[]}}).catch(function(_){var w,p=[],P=[];return(w=_.forEach)===null||w===void 0||w.call(_,function(b){var I=b.rule.warningOnly,j=b.errors;I?P.push.apply(P,N(j)):p.push.apply(p,N(j))}),p.length?Promise.reject({name:m,errors:p,warnings:P}):{name:m,errors:p,warnings:P}}))}}});var o=jt(c);e.lastValidatePromise=o,o.catch(function(l){return l}).then(function(l){var g=l.map(function(m){var k=m.name;return k});e.notifyObservers(e.store,g,{type:"validateFinish"}),e.triggerOnFieldsChange(g,l)});var u=o.then(function(){return e.lastValidatePromise===o?Promise.resolve(e.getFieldsValue(s)):Promise.reject([])}).catch(function(l){var g=l.filter(function(m){return m&&m.errors.length});return Promise.reject({values:e.getFieldsValue(s),errorFields:g,outOfDate:e.lastValidatePromise!==o})});return u.catch(function(l){return l}),u},this.submit=function(){e.warningUnhooked(),e.validateFields().then(function(r){var t=e.callbacks.onFinish;if(t)try{t(r)}catch(a){console.error(a)}}).catch(function(r){var t=e.callbacks.onFinishFailed;t&&t(r)})},this.forceRootUpdate=i});function It(n){var i=v.useRef(),e=v.useState({}),r=Ee(e,2),t=r[1];if(!i.current)if(n)i.current=n;else{var a=function(){t({})},s=new Nt(a);i.current=s.getForm()}return[i.current]}const We=It;var Ue=v.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),rt=function(i){var e=i.validateMessages,r=i.onFormChange,t=i.onFormFinish,a=i.children,s=v.useContext(Ue),c=v.useRef({});return v.createElement(Ue.Provider,{value:V(V({},s),{},{validateMessages:V(V({},s.validateMessages),e),triggerFormChange:function(u,l){r&&r(u,{changedFields:l,forms:c.current}),s.triggerFormChange(u,l)},triggerFormFinish:function(u,l){t&&t(u,{values:l,forms:c.current}),s.triggerFormFinish(u,l)},registerForm:function(u,l){u&&(c.current=V(V({},c.current),{},z({},u,l))),s.registerForm(u,l)},unregisterForm:function(u){var l=V({},c.current);delete l[u],c.current=l,s.unregisterForm(u)}})},a)};const Lt=Ue;var Wt=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Ut=function(i,e){var r=i.name,t=i.initialValues,a=i.fields,s=i.form,c=i.preserve,o=i.children,u=i.component,l=u===void 0?"form":u,g=i.validateMessages,m=i.validateTrigger,k=m===void 0?"onChange":m,_=i.onValuesChange,w=i.onFieldsChange,p=i.onFinish,P=i.onFinishFailed,b=$(i,Wt),I=v.useContext(Lt),j=We(s),D=Ee(j,1),T=D[0],x=T.getInternalHooks(he),W=x.useSubscribe,U=x.setInitialValues,G=x.setCallbacks,oe=x.setValidateMessages,h=x.setPreserve,f=x.destroyForm;v.useImperativeHandle(e,function(){return T}),v.useEffect(function(){return I.registerForm(r,T),function(){I.unregisterForm(r)}},[I,T,r]),oe(V(V({},I.validateMessages),g)),G({onValuesChange:_,onFieldsChange:function(J){if(I.triggerFormChange(r,J),w){for(var ee=arguments.length,at=new Array(ee>1?ee-1:0),Ce=1;Ce<ee;Ce++)at[Ce-1]=arguments[Ce];w.apply(void 0,[J].concat(at))}},onFinish:function(J){I.triggerFormFinish(r,J),p&&p(J)},onFinishFailed:P}),h(c);var d=v.useRef(null);U(t,!d.current),d.current||(d.current=!0),v.useEffect(function(){return f},[]);var F,C=typeof o=="function";if(C){var E=T.getFieldsValue(!0);F=o(E,T)}else F=o;W(!C);var B=v.useRef();v.useEffect(function(){Ft(B.current||[],a||[])||T.setFields(a||[]),B.current=a},[a,T]);var X=v.useMemo(function(){return V(V({},T),{},{validateTrigger:k})},[T,k]),Q=v.createElement(ge.Provider,{value:X},F);return l===!1?Q:v.createElement(l,R({},b,{onSubmit:function(J){J.preventDefault(),J.stopPropagation(),T.submit()},onReset:function(J){var ee;J.preventDefault(),T.resetFields(),(ee=b.onReset)===null||ee===void 0||ee.call(b,J)}}),Q)};const Dt=Ut;function nt(n){try{return JSON.stringify(n)}catch{return Math.random()}}var xt=function(){};function Zt(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];var r=i[0],t=r===void 0?[]:r,a=i[1],s=(0,v.useState)(),c=Ee(s,2),o=c[0],u=c[1],l=(0,v.useMemo)(function(){return nt(o)},[o]),g=(0,v.useRef)(l);g.current=l;var m=(0,v.useContext)(ge),k=a||m,_=k&&k._init,w=Y(t),p=(0,v.useRef)(w);return p.current=w,xt(w),(0,v.useEffect)(function(){if(!!_){var P=k.getFieldsValue,b=k.getInternalHooks,I=b(he),j=I.registerWatch,D=j(function(x){var W=fe(x,p.current),U=nt(W);g.current!==U&&(g.current=U,u(W))}),T=fe(P(),p.current);return u(T),D}},[_]),o}const it=Zt;var Ht=v.forwardRef(Dt),be=Ht;be.FormProvider=rt,be.Field=Ie,be.List=et,be.useForm=We,be.useWatch=it;const Kt=be},1403:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>$});var v=O(2880),R=O.n(v),M=O(338);function $(S){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=[];return R().Children.forEach(S,function(z){z==null&&!K.keepEmpty||(Array.isArray(z)?L=L.concat($(z)):(0,M.isFragment)(z)&&z.props?L=L.concat($(z.props.children,K)):L.push(z))}),L}},9174:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Kp:()=>R,ET:()=>L,ZP:()=>z});var v={};function R(re,V){}function M(re,V){}function $(){v={}}function S(re,V,ie){!V&&!v[ie]&&(re(!1,ie),v[ie]=!0)}function K(re,V){S(R,re,V)}function L(re,V){S(M,re,V)}const z=K},4821:(te,Z)=>{var O={name:"segment-push-plugin-demo",version:"1.17.0"},A;var v=typeof Symbol=="function"&&Symbol.for,R=v?Symbol.for("react.element"):60103,M=v?Symbol.for("react.portal"):60106,$=v?Symbol.for("react.fragment"):60107,S=v?Symbol.for("react.strict_mode"):60108,K=v?Symbol.for("react.profiler"):60114,L=v?Symbol.for("react.provider"):60109,z=v?Symbol.for("react.context"):60110,re=v?Symbol.for("react.async_mode"):60111,V=v?Symbol.for("react.concurrent_mode"):60111,ie=v?Symbol.for("react.forward_ref"):60112,me=v?Symbol.for("react.suspense"):60113,ke=v?Symbol.for("react.suspense_list"):60120,ve=v?Symbol.for("react.memo"):60115,pe=v?Symbol.for("react.lazy"):60116,N=v?Symbol.for("react.block"):60121,_e=v?Symbol.for("react.fundamental"):60117,Oe=v?Symbol.for("react.responder"):60118,we=v?Symbol.for("react.scope"):60119;function q(y){if(typeof y=="object"&&y!==null){var le=y.$$typeof;switch(le){case R:switch(y=y.type,y){case re:case V:case $:case K:case S:case me:return y;default:switch(y=y&&y.$$typeof,y){case z:case ie:case pe:case ve:case L:return y;default:return le}}case M:return le}}}function ye(y){return q(y)===V}A=re,A=V,A=z,A=L,A=R,A=ie,A=$,A=pe,A=ve,A=M,A=K,A=S,A=me,A=function(y){return ye(y)||q(y)===re},A=ye,A=function(y){return q(y)===z},A=function(y){return q(y)===L},A=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===R},A=function(y){return q(y)===ie},Z.isFragment=function(y){return q(y)===$},A=function(y){return q(y)===pe},Z.isMemo=function(y){return q(y)===ve},A=function(y){return q(y)===M},A=function(y){return q(y)===K},A=function(y){return q(y)===S},A=function(y){return q(y)===me},A=function(y){return typeof y=="string"||typeof y=="function"||y===$||y===V||y===K||y===S||y===me||y===ke||typeof y=="object"&&y!==null&&(y.$$typeof===pe||y.$$typeof===ve||y.$$typeof===L||y.$$typeof===z||y.$$typeof===ie||y.$$typeof===_e||y.$$typeof===Oe||y.$$typeof===we||y.$$typeof===N)},A=q},338:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};te.exports=O(4821)},9516:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>v});function v(R,M){(M==null||M>R.length)&&(M=R.length);for(var $=0,S=new Array(M);$<M;$++)S[$]=R[$];return S}},6220:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>v});function v(R){if(Array.isArray(R))return R}},240:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>v});function v(R,M,$){return M in R?Object.defineProperty(R,M,{value:$,enumerable:!0,configurable:!0,writable:!0}):R[M]=$,R}},4125:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>v});function v(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)}},6089:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>v});function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},9677:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>M});var v=O(240);function R($,S){var K=Object.keys($);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols($);S&&(L=L.filter(function(z){return Object.getOwnPropertyDescriptor($,z).enumerable})),K.push.apply(K,L)}return K}function M($){for(var S=1;S<arguments.length;S++){var K=arguments[S]!=null?arguments[S]:{};S%2?R(Object(K),!0).forEach(function(L){(0,v.Z)($,L,K[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(K)):R(Object(K)).forEach(function(L){Object.defineProperty($,L,Object.getOwnPropertyDescriptor(K,L))})}return $}},9189:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>S});var v=O(6220),R=O(4125),M=O(4783),$=O(6089);function S(K){return(0,v.Z)(K)||(0,R.Z)(K)||(0,M.Z)(K)||(0,$.Z)()}},9961:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>K});var v=O(9516);function R(L){if(Array.isArray(L))return(0,v.Z)(L)}var M=O(4125),$=O(4783);function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K(L){return R(L)||(0,M.Z)(L)||(0,$.Z)(L)||S()}},4783:(te,Z,O)=>{var A={name:"segment-push-plugin-demo",version:"1.17.0"};O.d(Z,{Z:()=>R});var v=O(9516);function R(M,$){if(!!M){if(typeof M=="string")return(0,v.Z)(M,$);var S=Object.prototype.toString.call(M).slice(8,-1);if(S==="Object"&&M.constructor&&(S=M.constructor.name),S==="Map"||S==="Set")return Array.from(M);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return(0,v.Z)(M,$)}}}}]);
